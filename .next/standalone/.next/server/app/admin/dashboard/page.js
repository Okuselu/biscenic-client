(()=>{var e={};e.id=957,e.ids=[957],e.modules={5:(e,t,r)=>{Promise.resolve().then(r.bind(r,61186))},843:(e,t,r)=>{"use strict";r.d(t,{u:()=>s});let s=r(51060).A.create({baseURL:"https://biscenic-server-4.onrender.com/api",timeout:1e4,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>e,e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>(e.response?.status,Promise.reject(e)))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7965:(e,t,r)=>{"use strict";r.d(t,{w:()=>l});var s=r(60687),i=r(43210),a=r(14163),n="horizontal",o=["horizontal","vertical"],c=i.forwardRef((e,t)=>{var r;let{decorative:i,orientation:c=n,...d}=e,l=(r=c,o.includes(r))?c:n;return(0,s.jsx)(a.sG.div,{"data-orientation":l,...i?{role:"none"}:{"aria-orientation":"vertical"===l?l:void 0,role:"separator"},...d,ref:t})});c.displayName="Separator";var d=r(96241);let l=i.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...i},a)=>(0,s.jsx)(c,{ref:a,decorative:r,orientation:t,className:(0,d.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...i}));l.displayName=c.displayName},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19080:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24934:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(60687),i=r(43210),a=r(8730),n=r(24224),o=r(96241);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef(({className:e,variant:t,size:r,asChild:i=!1,...n},d)=>{let l=i?a.DX:"button";return(0,s.jsx)(l,{className:(0,o.cn)(c({variant:t,size:r,className:e})),ref:d,...n})});d.displayName="Button"},27260:(e,t,r)=>{"use strict";r.d(t,{Wn:()=>p,fB:()=>u,vz:()=>l});var s=r(8693),i=r(54050),a=r(51423),n=r(30808),o=r(16189),c=r(71702);let d={all:["auth"],user:()=>[...d.all,"user"],users:()=>[...d.all,"users"],adminCheck:()=>[...d.all,"adminCheck"]},l=()=>{let e=(0,o.useRouter)(),{toast:t}=(0,c.dj)(),r=(0,s.jE)();return(0,i.n)({mutationFn:e=>n.Z.login(e),onSuccess:s=>{n.v.setToken(s.token),s.user.roles.includes("admin")?(t({title:"Login Successful",description:`Welcome back, ${s.user.username}!`}),r.invalidateQueries({queryKey:d.all}),e.push("/admin/dashboard")):(t({title:"Access Denied",description:"Admin access required.",variant:"destructive"}),n.v.removeToken())},onError:e=>{console.error("Login error:",e),t({title:"Login Failed",description:e.response?.data?.message||"Invalid email or password.",variant:"destructive"})}})},u=(e=!0)=>(0,a.I)({queryKey:d.adminCheck(),queryFn:n.Z.admin.checkAccess,enabled:e&&!!n.v.getToken(),retry:!1,staleTime:3e5}),p=()=>{let e=(0,o.useRouter)(),t=(0,s.jE)(),{toast:r}=(0,c.dj)();return()=>{n.v.removeToken(),t.removeQueries({queryKey:d.all}),r({title:"Logged Out",description:"You have been successfully logged out."}),e.push("/secure-admin")}}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30808:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a,v:()=>n});var s=r(843),i=r(71995);let a={login:async e=>(await s.u.post(i.R.auth.login,e)).data,register:async e=>(await s.u.post(i.R.auth.register,e)).data.data,admin:{checkAccess:async()=>(await s.u.get(i.R.auth.admin)).data,getAllUsers:async()=>(await s.u.get(i.R.auth.users)).data.data,deleteUser:async e=>{await s.u.delete(i.R.auth.deleteUser(e))},updateUserRole:async(e,t)=>(await s.u.put(i.R.auth.updateUserRole(e),t)).data.data}},n={setToken:e=>{},getToken:()=>null,removeToken:()=>{},decodeToken:e=>{try{let t=e.split(".")[1],r=atob(t);return JSON.parse(r)}catch(e){return console.error("Error decoding token:",e),null}},isTokenExpired:e=>{try{let t=n.decodeToken(e);if(!t||!t.exp)return!0;let r=Date.now()/1e3;return t.exp<r}catch(e){return!0}}}},33873:e=>{"use strict";e.exports=require("path")},36453:(e,t,r)=>{Promise.resolve().then(r.bind(r,54368))},54050:(e,t,r)=>{"use strict";r.d(t,{n:()=>l});var s=r(43210),i=r(65406),a=r(33465),n=r(35536),o=r(31212),c=class extends n.Q{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.f8)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.EN)(t.mutationKey)!==(0,o.EN)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){let e=this.#r?.state??(0,i.$)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#a(e){a.jG.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r),this.#s.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r),this.#s.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#t)})})}},d=r(8693);function l(e,t){let r=(0,d.jE)(t),[i]=s.useState(()=>new c(r,e));s.useEffect(()=>{i.setOptions(e)},[i,e]);let n=s.useSyncExternalStore(s.useCallback(e=>i.subscribe(a.jG.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=s.useCallback((e,t)=>{i.mutate(e,t).catch(o.lQ)},[i]);if(n.error&&(0,o.GU)(i.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:l,mutateAsync:n.mutate}}},54368:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(60687);r(43210);var i=r(85814),a=r.n(i),n=r(16189),o=r(55192),c=r(24934),d=r(7965),l=r(19080),u=r(62688);let p=(0,u.A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),h=(0,u.A)("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),m=(0,u.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var x=r(27260);function g({icon:e,title:t,description:r,link:i,linkLabel:n}){return(0,s.jsxs)(o.Zp,{className:"p-6 text-center transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[(0,s.jsx)("div",{className:"mx-auto mb-4",children:e}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:t}),(0,s.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:r}),(0,s.jsx)(c.$,{className:"w-full bg-black text-white hover:bg-gray-800",asChild:!0,children:(0,s.jsx)(a(),{href:i,children:n||"Go"})})]})}function v(){let e=(0,n.useRouter)(),t=(0,x.Wn)(),{data:r,isLoading:i,error:a}=(0,x.fB)();return i?(0,s.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Verifying access..."})]})}):r?(0,s.jsx)("div",{className:"flex min-h-screen flex-col items-center bg-gray-100 px-4 py-12",children:(0,s.jsxs)(o.Zp,{className:"w-full max-w-4xl shadow-lg",children:[(0,s.jsxs)(o.aR,{className:"space-y-2 text-center",children:[(0,s.jsx)(o.ZB,{className:"text-4xl font-extrabold tracking-tight text-gray-900",children:"Admin Dashboard"}),(0,s.jsx)(o.BT,{className:"text-lg text-gray-600",children:"Welcome, Administrator! Manage your store's content here."})]}),(0,s.jsxs)(o.Wu,{className:"space-y-10",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3",children:[(0,s.jsx)(g,{icon:(0,s.jsx)(l.A,{className:"h-12 w-12 text-indigo-600"}),title:"Product Management",description:"Add, edit, or remove products from your catalog.",link:"/admin/products",linkLabel:"Manage Products"}),(0,s.jsx)(g,{icon:(0,s.jsx)(p,{className:"h-12 w-12 text-green-600"}),title:"Order Management",description:"View and process customer orders.",link:"/admin/orders",linkLabel:"View Orders"}),(0,s.jsx)(g,{icon:(0,s.jsx)(h,{className:"h-12 w-12 text-blue-600"}),title:"Data Analytics",description:"Monitor website performance and user interactions.",link:"/admin/analytics",linkLabel:"View Analytics"})]}),(0,s.jsx)(d.w,{className:"my-8"}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)(c.$,{variant:"outline",className:"border-black text-black hover:bg-black hover:text-white bg-transparent flex items-center gap-2 px-6 py-3",onClick:()=>{t()},children:[(0,s.jsx)(m,{className:"h-4 w-4"})," Logout"]})})]})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Access Denied"}),(0,s.jsx)("p",{className:"text-gray-600 mb-8",children:"You don't have permission to access this page."}),(0,s.jsx)(c.$,{onClick:()=>e.push("/secure-admin"),children:"Go to Login"})]})})}r(30808)},54647:()=>{},55192:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>l,ZB:()=>c,Zp:()=>n,aR:()=>o});var s=r(60687),i=r(43210),a=r(96241);let n=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let o=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let c=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let d=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let l=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",e),...t}));l.displayName="CardContent",i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},61186:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/mac/Documents/Brave2/Term3/capstone/biscenic-project/biscenic-client/app/admin/dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mac/Documents/Brave2/Term3/capstone/biscenic-project/biscenic-client/app/admin/dashboard/page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71995:(e,t,r)=>{"use strict";r.d(t,{R:()=>s});let s={products:{list:"/products",detail:e=>`/products/${e}`,create:"/products",update:e=>`/products/${e}`,delete:e=>`/products/${e}`,updateImages:e=>`/products/${e}/images`},payments:{initialize:"/payments/initialize",verify:e=>`/payments/verify?reference=${e}`},auth:{login:"/users/login",register:"/users/register",admin:"/users/admin",users:"/users/users",deleteUser:e=>`/users/users/${e}`,updateUserRole:e=>`/users/users/${e}/role`},categories:{list:"/categories",detail:e=>`/categories/${e}`,create:"/categories",update:e=>`/categories/${e}`,delete:e=>`/categories/${e}`},orders:{list:"/orders",detail:e=>`/orders/${e}`,create:"/orders",update:e=>`/orders/${e}`,delete:e=>`/orders/${e}`,updateStatus:"/orders/status",userOrders:e=>`/orders/user/${e}`}}},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83952:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>d});var s=r(65239),i=r(48088),a=r(88170),n=r.n(a),o=r(30893),c={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);r.d(t,c);let d={children:["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,61186)),"/Users/mac/Documents/Brave2/Term3/capstone/biscenic-project/biscenic-client/app/admin/dashboard/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,62998)),"/Users/mac/Documents/Brave2/Term3/capstone/biscenic-project/biscenic-client/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,l=["/Users/mac/Documents/Brave2/Term3/capstone/biscenic-project/biscenic-client/app/admin/dashboard/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[719,481,62,872],()=>r(83952));module.exports=s})();