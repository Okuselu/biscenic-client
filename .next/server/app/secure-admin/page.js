(()=>{var e={};e.id=748,e.ids=[748],e.modules={843:(e,t,r)=>{"use strict";r.d(t,{u:()=>s});let s=r(51060).A.create({baseURL:"https://biscenic-server-4.onrender.com/api",timeout:1e4,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>e,e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>(e.response?.status,Promise.reject(e)))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10403:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var s=r(60687),i=r(43210),n=r(14163),a=i.forwardRef((e,t)=>(0,s.jsx)(n.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var o=r(24224),u=r(96241);let d=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)(a,{ref:r,className:(0,u.cn)(d(),e),...t}));c.displayName=a.displayName},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},13964:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},14618:(e,t,r)=>{Promise.resolve().then(r.bind(r,39895))},18853:(e,t,r)=>{"use strict";r.d(t,{X:()=>n});var s=r(43210),i=r(66156);function n(e){let[t,r]=s.useState(void 0);return(0,i.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,i;if(!Array.isArray(t)||!t.length)return;let n=t[0];if("borderBoxSize"in n){let e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,i=t.blockSize}else s=e.offsetWidth,i=e.offsetHeight;r({width:s,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24934:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(60687),i=r(43210),n=r(8730),a=r(24224),o=r(96241);let u=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef(({className:e,variant:t,size:r,asChild:i=!1,...a},d)=>{let c=i?n.DX:"button";return(0,s.jsx)(c,{className:(0,o.cn)(u({variant:t,size:r,className:e})),ref:d,...a})});d.displayName="Button"},26233:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T});var s=r(60687),i=r(16189),n=r(43210),a=r(55192),o=r(10403),u=r(68988),d=r(24934),c=r(98599),l=r(11273),p=r(70569),m=r(65551),h=r(83721),f=r(18853),v=r(46059),b=r(14163),g="Checkbox",[x,y]=(0,l.A)(g),[j,w]=x(g),k=n.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:i,checked:a,defaultChecked:o,required:u,disabled:d,value:l="on",onCheckedChange:h,form:f,...v}=e,[g,x]=n.useState(null),y=(0,c.s)(t,e=>x(e)),w=n.useRef(!1),k=!g||f||!!g.closest("form"),[R=!1,N]=(0,m.i)({prop:a,defaultProp:o,onChange:h}),q=n.useRef(R);return n.useEffect(()=>{let e=g?.form;if(e){let t=()=>N(q.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[g,N]),(0,s.jsxs)(j,{scope:r,state:R,disabled:d,children:[(0,s.jsx)(b.sG.button,{type:"button",role:"checkbox","aria-checked":E(R)?"mixed":R,"aria-required":u,"data-state":M(R),"data-disabled":d?"":void 0,disabled:d,value:l,...v,ref:y,onKeyDown:(0,p.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,p.m)(e.onClick,e=>{N(e=>!!E(e)||!e),k&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})}),k&&(0,s.jsx)(C,{control:g,bubbles:!w.current,name:i,value:l,checked:R,required:u,disabled:d,form:f,style:{transform:"translateX(-100%)"},defaultChecked:!E(o)&&o})]})});k.displayName=g;var R="CheckboxIndicator",N=n.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:i,...n}=e,a=w(R,r);return(0,s.jsx)(v.C,{present:i||E(a.state)||!0===a.state,children:(0,s.jsx)(b.sG.span,{"data-state":M(a.state),"data-disabled":a.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});N.displayName=R;var C=e=>{let{control:t,checked:r,bubbles:i=!0,defaultChecked:a,...o}=e,u=n.useRef(null),d=(0,h.Z)(r),c=(0,f.X)(t);n.useEffect(()=>{let e=u.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==r&&t){let s=new Event("click",{bubbles:i});e.indeterminate=E(r),t.call(e,!E(r)&&r),e.dispatchEvent(s)}},[d,r,i]);let l=n.useRef(!E(r)&&r);return(0,s.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??l.current,...o,tabIndex:-1,ref:u,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function E(e){return"indeterminate"===e}function M(e){return E(e)?"indeterminate":e?"checked":"unchecked"}var q=r(13964),P=r(96241);let O=n.forwardRef(({className:e,...t},r)=>(0,s.jsx)(k,{ref:r,className:(0,P.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:(0,s.jsx)(N,{className:"flex items-center justify-center text-current",children:(0,s.jsx)(q.A,{className:"h-4 w-4"})})}));O.displayName=k.displayName;var S=r(27260);function T(){let[e,t]=(0,n.useState)(""),[r,c]=(0,n.useState)(""),[l,p]=(0,n.useState)(!1);(0,i.useRouter)();let m=(0,S.vz)(),h=async t=>{t.preventDefault(),e.trim()&&r.trim()&&m.mutate({email:e.trim(),password:r.trim()})};return(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 px-4 py-12",children:(0,s.jsxs)(a.Zp,{className:"w-full max-w-md",children:[(0,s.jsxs)(a.aR,{className:"space-y-1 text-center",children:[(0,s.jsx)(a.ZB,{className:"text-2xl font-bold tracking-wide",children:"Admin Login"}),(0,s.jsx)(a.BT,{children:"Enter your credentials to access the CMS dashboard."})]}),(0,s.jsx)(a.Wu,{children:(0,s.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{htmlFor:"email",children:"Email"}),(0,s.jsx)(u.p,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{htmlFor:"password",children:"Password"}),(0,s.jsx)(u.p,{id:"password",type:"password",placeholder:"Enter your password",value:r,onChange:e=>c(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(O,{id:"rememberMe",checked:l,onCheckedChange:e=>p(!!e)}),(0,s.jsx)(o.J,{htmlFor:"rememberMe",children:"Remember me"})]}),(0,s.jsx)(d.$,{type:"submit",className:"w-full bg-black text-white hover:bg-gray-800",disabled:m.isPending,children:m.isPending?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Logging in..."]}):"Login"})]})})]})})}r(30808)},27260:(e,t,r)=>{"use strict";r.d(t,{Wn:()=>p,fB:()=>l,vz:()=>c});var s=r(8693),i=r(54050),n=r(51423),a=r(30808),o=r(16189),u=r(71702);let d={all:["auth"],user:()=>[...d.all,"user"],users:()=>[...d.all,"users"],adminCheck:()=>[...d.all,"adminCheck"]},c=()=>{let e=(0,o.useRouter)(),{toast:t}=(0,u.dj)(),r=(0,s.jE)();return(0,i.n)({mutationFn:e=>a.Z.login(e),onSuccess:s=>{a.v.setToken(s.token),s.user.roles.includes("admin")?(t({title:"Login Successful",description:`Welcome back, ${s.user.username}!`}),r.invalidateQueries({queryKey:d.all}),e.push("/admin/dashboard")):(t({title:"Access Denied",description:"Admin access required.",variant:"destructive"}),a.v.removeToken())},onError:e=>{console.error("Login error:",e),t({title:"Login Failed",description:e.response?.data?.message||"Invalid email or password.",variant:"destructive"})}})},l=(e=!0)=>(0,n.I)({queryKey:d.adminCheck(),queryFn:a.Z.admin.checkAccess,enabled:e&&!!a.v.getToken(),retry:!1,staleTime:3e5}),p=()=>{let e=(0,o.useRouter)(),t=(0,s.jE)(),{toast:r}=(0,u.dj)();return()=>{a.v.removeToken(),t.removeQueries({queryKey:d.all}),r({title:"Logged Out",description:"You have been successfully logged out."}),e.push("/secure-admin")}}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28928:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>l,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(65239),i=r(48088),n=r(88170),a=r.n(n),o=r(30893),u={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>o[e]);r.d(t,u);let d={children:["",{children:["secure-admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,39895)),"/Users/mac/Documents/Brave2/Term3/capstone/biscenic-project/biscenic-client/app/secure-admin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,62998)),"/Users/mac/Documents/Brave2/Term3/capstone/biscenic-project/biscenic-client/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/mac/Documents/Brave2/Term3/capstone/biscenic-project/biscenic-client/app/secure-admin/page.tsx"],l={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/secure-admin/page",pathname:"/secure-admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30808:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n,v:()=>a});var s=r(843),i=r(71995);let n={login:async e=>(await s.u.post(i.R.auth.login,e)).data,register:async e=>(await s.u.post(i.R.auth.register,e)).data.data,admin:{checkAccess:async()=>(await s.u.get(i.R.auth.admin)).data,getAllUsers:async()=>(await s.u.get(i.R.auth.users)).data.data,deleteUser:async e=>{await s.u.delete(i.R.auth.deleteUser(e))},updateUserRole:async(e,t)=>(await s.u.put(i.R.auth.updateUserRole(e),t)).data.data}},a={setToken:e=>{},getToken:()=>null,removeToken:()=>{},decodeToken:e=>{try{let t=e.split(".")[1],r=atob(t);return JSON.parse(r)}catch(e){return console.error("Error decoding token:",e),null}},isTokenExpired:e=>{try{let t=a.decodeToken(e);if(!t||!t.exp)return!0;let r=Date.now()/1e3;return t.exp<r}catch(e){return!0}}}},33873:e=>{"use strict";e.exports=require("path")},39895:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/mac/Documents/Brave2/Term3/capstone/biscenic-project/biscenic-client/app/secure-admin/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mac/Documents/Brave2/Term3/capstone/biscenic-project/biscenic-client/app/secure-admin/page.tsx","default")},48898:(e,t,r)=>{Promise.resolve().then(r.bind(r,26233))},54050:(e,t,r)=>{"use strict";r.d(t,{n:()=>c});var s=r(43210),i=r(65406),n=r(33465),a=r(35536),o=r(31212),u=class extends a.Q{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.f8)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.EN)(t.mutationKey)!==(0,o.EN)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#n(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#n()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){let e=this.#r?.state??(0,i.$)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#n(e){n.jG.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r),this.#s.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r),this.#s.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#t)})})}},d=r(8693);function c(e,t){let r=(0,d.jE)(t),[i]=s.useState(()=>new u(r,e));s.useEffect(()=>{i.setOptions(e)},[i,e]);let a=s.useSyncExternalStore(s.useCallback(e=>i.subscribe(n.jG.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),c=s.useCallback((e,t)=>{i.mutate(e,t).catch(o.lQ)},[i]);if(a.error&&(0,o.GU)(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:c,mutateAsync:a.mutate}}},54647:()=>{},55192:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>u,Zp:()=>a,aR:()=>o});var s=r(60687),i=r(43210),n=r(96241);let a=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));a.displayName="Card";let o=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let u=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));u.displayName="CardTitle";let d=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68988:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var s=r(60687),i=r(43210),n=r(96241);let a=i.forwardRef(({className:e,type:t,...r},i)=>(0,s.jsx)("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...r}));a.displayName="Input"},71995:(e,t,r)=>{"use strict";r.d(t,{R:()=>s});let s={products:{list:"/products",detail:e=>`/products/${e}`,create:"/products",update:e=>`/products/${e}`,delete:e=>`/products/${e}`,updateImages:e=>`/products/${e}/images`},payments:{initialize:"/payments/initialize",verify:e=>`/payments/verify?reference=${e}`},auth:{login:"/users/login",register:"/users/register",admin:"/users/admin",users:"/users/users",deleteUser:e=>`/users/users/${e}`,updateUserRole:e=>`/users/users/${e}/role`},categories:{list:"/categories",detail:e=>`/categories/${e}`,create:"/categories",update:e=>`/categories/${e}`,delete:e=>`/categories/${e}`},orders:{list:"/orders",detail:e=>`/orders/${e}`,create:"/orders",update:e=>`/orders/${e}`,delete:e=>`/orders/${e}`,updateStatus:"/orders/status",userOrders:e=>`/orders/user/${e}`}}},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83721:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(43210);function i(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[719,481,62,872],()=>r(28928));module.exports=s})();